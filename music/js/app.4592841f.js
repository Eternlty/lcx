(function(t){function e(e){for(var r,c,o=e[0],a=e[1],l=e[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&m.push(s[c][0]),s[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],r=!0,o=1;o<i.length;o++){var a=i[o];0!==s[a]&&(r=!1)}r&&(n.splice(e--,1),t=c(c.s=i[0]))}return t}var r={},s={app:0},n=[];function c(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=r,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(i,r,function(e){return t[e]}.bind(null,r));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/lcx/music/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=a;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"4e4f":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var r=i("2b0e"),s=function(){var t=this,e=t._self._c;return e("router-view")},n=[],c={name:"App"},o=c,a=(i("f7e5"),i("2877")),l=Object(a["a"])(o,s,n,!1,null,null,null),u=l.exports,d=i("8c4f"),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"player-container"},[e("div",{staticClass:"background",style:{backgroundImage:"url("+(t.currentSong.cover||"/lcx/music/img/background.jpg")+")"}}),e("div",{staticClass:"glass-overlay"}),e("div",{staticClass:"main-content"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"song-list"},[e("table",[t._m(0),e("tbody",t._l(t.localMusicList,(function(i,r){return e("tr",{key:i.id,class:{selected:i.id===t.currentSong.id},on:{click:function(e){return t.selectSong(i)}}},[e("td",[t._v(t._s(r+1))]),e("td",[t._v(t._s(i.title))]),e("td",[t._v(t._s(i.artist))])])})),0)])]),e("div",{staticClass:"player-area"},[e("div",{staticClass:"cover-info"},[t.currentSong.cover?e("img",{staticClass:"cover",attrs:{src:t.currentSong.cover}}):t._e()]),e("div",{staticClass:"lyric-box"},[t.currentSong.id?t._l(t.lyrics,(function(i,r){return e("div",{key:r,class:{active:r===t.currentLyricIndex}},[t._v(" "+t._s(i.text)+" ")])})):e("div",{staticClass:"no-music"},[t._v(" ËØ∑ÈÄâÊã©Èü≥‰πê ")])],2),e("div",{staticClass:"controls"},[e("button",{attrs:{title:"‰∏ä‰∏ÄÈ¶ñ"},on:{click:t.prevSong}},[t._v("‚èÆÔ∏è")]),e("button",{attrs:{title:t.isPlaying?"ÊöÇÂÅú":"Êí≠Êîæ"},on:{click:t.togglePlay}},[t._v(" "+t._s(t.isPlaying?"‚è∏Ô∏è":"‚ñ∂Ô∏è")+" ")]),e("button",{attrs:{title:"‰∏ã‰∏ÄÈ¶ñ"},on:{click:t.nextSong}},[t._v("‚è≠Ô∏è")]),e("div",{staticClass:"slider-container"},[e("span",{staticClass:"slider-icon"},[t._v("‚è±Ô∏è")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTime,expression:"currentTime"}],staticClass:"progress-slider",attrs:{type:"range",min:"0",max:t.duration,title:"Êí≠ÊîæËøõÂ∫¶"},domProps:{value:t.currentTime},on:{input:t.seek,__r:function(e){t.currentTime=e.target.value}}}),e("span",{staticClass:"time-display"},[t._v(" "+t._s(t.formatTime(t.currentTime))+" / "+t._s(t.formatTime(t.duration))+" ")])]),e("div",{staticClass:"slider-container"},[e("span",{staticClass:"slider-icon"},[t._v("üîä")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"volume-slider",attrs:{type:"range",min:"0",max:"1",step:"0.01",title:"Èü≥ÈáèË∞ÉËäÇ"},domProps:{value:t.volume},on:{input:t.setVolume,__r:function(e){t.volume=e.target.value}}}),e("span",{staticClass:"volume-display"},[t._v(" "+t._s(Math.round(100*t.volume))+"% ")])])])])])]),e("audio",{ref:"audio",attrs:{src:t.currentSong.src},on:{timeupdate:t.onTimeUpdate,ended:t.nextSong,play:t.onPlay,pause:t.onPause}})])},p=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{width:"50px"}}),e("th",[t._v("Ê≠åÊõ≤Âêç")]),e("th",[t._v("Ê≠åÊâã")])])])}];const h=[{id:1,title:"Landslide",artist:"Oh Wonder",src:"/lcx/music/music/1.mp3",cover:"/lcx/music/img/1.jpg",lrc:"/lcx/music/lrc/1.lrc"},{id:2,title:"Sacred Play Secret Place",artist:"Matryoshka",src:"/lcx/music/music/2.mp3",cover:"/lcx/music/img/2.jpg",lrc:"/lcx/music/lrc/2.lrc"},{id:3,title:"Áà±ÊÉÖËÆØÊÅØ",artist:"ÈÉ≠Èùô",src:"/lcx/music/music/3.mp3",cover:"/lcx/music/img/3.png",lrc:"/lcx/music/lrc/3.lrc"},{id:4,title:"Á¨¨57Ê¨°ÂèñÊ∂àÂèëÈÄÅ",artist:"Ëè≤Ëè≤ÂÖ¨‰∏ªÔºàÈôÜÁªÆËè≤Ôºâ",src:"/lcx/music/music/4.mp3",cover:"/lcx/music/img/4.jpg",lrc:"/lcx/music/lrc/4.lrc"}];function v(t){const e=t.split("\n"),i=[],r=/\[(\d{2}):(\d{2})\.(\d{2,3})]/;for(let s of e){const t=r.exec(s);if(t){const e=parseInt(t[1]),n=parseInt(t[2]),c=parseInt(t[3].padEnd(3,"0")),o=60*e*1e3+1e3*n+c,a=s.replace(r,"").trim();i.push({time:o,text:a})}}return i.sort((t,e)=>t.time-e.time)}var f={name:"MusicPlayer",data(){return{localMusicList:h,currentSong:{},lyrics:[],currentLyricIndex:0,isPlaying:!1,currentTime:0,duration:0,volume:.8}},mounted(){this.initAudio()},methods:{initAudio(){const t=this.$refs.audio;t&&(t.volume=this.volume,t.addEventListener("loadedmetadata",()=>{this.duration=t.duration}))},async loadLyric(){try{const t=await fetch(this.currentSong.lrc),e=await t.text();this.lyrics=v(e),this.currentLyricIndex=0}catch(t){console.error("Ê≠åËØçÂä†ËΩΩÂ§±Ë¥•:",t),this.lyrics=[{text:"Ê≠åËØçÂä†ËΩΩÂ§±Ë¥•"}]}},onTimeUpdate(t){this.currentTime=t.target.currentTime;for(let e=0;e<this.lyrics.length;e++)if(1e3*this.currentTime<this.lyrics[e].time){this.currentLyricIndex=e-1>=0?e-1:0,this.$nextTick(()=>{const t=this.$el.querySelector(".lyric-box"),e=t.querySelector(".active");e&&e.scrollIntoView({behavior:"smooth",block:"center"})});break}},togglePlay(){if(!this.currentSong.id)return;const t=this.$refs.audio;t.paused?(t.play().catch(t=>{console.error("Êí≠ÊîæÂ§±Ë¥•:",t),this.isPlaying=!1}),this.isPlaying=!0):(t.pause(),this.isPlaying=!1)},seek(){const t=this.$refs.audio;t&&(console.log("Seeking to:",this.currentTime,"Duration:",this.duration),t.currentTime=this.currentTime,this.isPlaying||t.play().catch(t=>{console.error("SeekÂêéÊí≠ÊîæÂ§±Ë¥•:",t)}))},setVolume(){this.$refs.audio&&(this.$refs.audio.volume=this.volume)},selectSong(t){this.currentSong=t,this.isPlaying=!1,this.currentTime=0,this.loadLyric(),this.$nextTick(()=>{const t=this.$refs.audio;t&&(t.load(),t.play().then(()=>{this.isPlaying=!0}).catch(t=>{console.error("Êí≠ÊîæÂ§±Ë¥•:",t),this.isPlaying=!1}))})},prevSong(){if(!this.currentSong.id)return;let t=this.localMusicList.findIndex(t=>t.id===this.currentSong.id);t=(t-1+this.localMusicList.length)%this.localMusicList.length,this.selectSong(this.localMusicList[t])},nextSong(){if(!this.currentSong.id)return;let t=this.localMusicList.findIndex(t=>t.id===this.currentSong.id);t=(t+1)%this.localMusicList.length,this.selectSong(this.localMusicList[t])},onPlay(){this.isPlaying=!0},onPause(){this.isPlaying=!1},formatTime(t){if(isNaN(t))return"00:00";const e=Math.floor(t/60),i=Math.floor(t%60);return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}},g=f,y=(i("e65a"),Object(a["a"])(g,m,p,!1,null,"63b93658",null)),x=y.exports;r["a"].use(d["a"]);var b=new d["a"]({mode:"history",base:"/lcx/music/",routes:[{path:"/",name:"Music",component:x}]}),_=i("2f62");r["a"].use(_["a"]);var S=new _["a"].Store({state:{},mutations:{},actions:{},getters:{}});i("a4b1");r["a"].config.productionTip=!1,console.log("%Êú¨Âú∞Èü≥‰πêÊí≠ÊîæÂô® %cby Êô®Áøî","color: rgba(0, 0, 0, 1); font-size: 14px; font-weight: bold;","color: #666; font-size: 12px;"),console.log("%cGitHub: https://github.com/Eternlty","color: #0366d6; font-size: 12px;"),new r["a"]({router:b,store:S,render:t=>t(u)}).$mount("#app")},"99b9":function(t,e,i){},a4b1:function(t,e,i){},e65a:function(t,e,i){"use strict";i("99b9")},f7e5:function(t,e,i){"use strict";i("4e4f")}});
//# sourceMappingURL=app.4592841f.js.map